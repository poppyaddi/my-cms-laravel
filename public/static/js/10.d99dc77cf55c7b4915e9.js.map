{"version":3,"sources":["webpack:///src/views/system/users/UserEdit.vue","webpack:///./src/views/system/users/UserEdit.vue?da73","webpack:///./src/views/system/users/UserEdit.vue"],"names":["UserEdit","data","formLayout","form","this","$form","createForm","name","roles","mounted","userDetail","$route","query","id","getRoleList","methods","_this","Object","role","then","response","console","log","_this2","user","_response$data","role_id","setFieldsValue","handleSubmit","e","_this3","preventDefault","validateFields","err","values","$message","success","message","setTimeout","go","resetFields","$router","push","users_UserEdit","render","_vm","_h","$createElement","_c","_self","attrs","on","submit","label","label-col","span","wrapper-col","directives","rawName","value","rules","required","expression","placeholder","_v","staticStyle","height","margin","padding","type","_l","key","_s","offset","style","textAlign","html-type","click","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/10.d99dc77cf55c7b4915e9.js","sourcesContent":["<template>\n  <a-form :form=\"form\" @submit=\"handleSubmit\">\n    <a-form-item label=\"用户名\" :label-col=\"{ span: 5 }\" :wrapper-col=\"{ span: 8 }\">\n      <a-input\n        v-decorator=\"['name', { rules: [{ required: true, message: '用户名必须填写' }] }]\"\n        placeholder=\"请输入用户名\"\n      />\n    </a-form-item>\n    <a-form-item style=\"height: 0px; margin: 0; padding: 0;\">\n          <a-input type=\"hidden\" v-decorator=\"['id', { rules: [{ required: false }] }]\" />\n    </a-form-item>\n    <a-form-item label=\"角色\" :label-col=\"{ span: 5 }\" :wrapper-col=\"{ span: 8 }\">\n      <a-select\n        v-decorator=\"[\n          'role_id',\n          { rules: [{ required: true, message: '必须选择角色' }] },\n        ]\"\n        placeholder=\"请选择角色\"\n      >\n        <a-select-option v-for=\"role in roles\" :value=\"role.id\" :key=\"role.id\">{{ role.name }}</a-select-option>\n      </a-select>\n    </a-form-item>\n\n    <a-form-item :wrapper-col=\"{ span: 12, offset: 5 }\">\n      <a-row>\n        <a-col :span=\"4\" :style=\"{ textAlign: 'left' }\">\n          <a-button type=\"primary\" html-type=\"submit\">提交</a-button>\n        </a-col>\n        <a-col :span=\"4\" :style=\"{ textAlign: 'left' }\">\n          <a-button type=\"primary\" @click=\"go\">返回</a-button>\n        </a-col>\n      </a-row>\n    </a-form-item>\n  </a-form>\n</template>\n\n<script>\nimport { index } from \"@/api/role\";\nimport { edit, detail } from \"@/api/user\";\nexport default {\n  data() {\n    return {\n      formLayout: \"horizontal\",\n      form: this.$form.createForm(this, { name: \"coordinated\" }),\n      roles: []\n    };\n  },\n  mounted() {\n    this.userDetail(this.$route.query.id);\n    this.getRoleList();\n  },\n\n  methods: {\n    // 获取角色列表\n    getRoleList() {\n      index().then(response => {\n        console.log(response);\n        this.roles = response.data;\n      });\n    },\n    userDetail(id) {\n      detail({ id }).then(response => {\n        console.log(response);\n        let { id, name, role_id } = response.data;\n        this.form.setFieldsValue({ id, name, role_id });\n      });\n    },\n    handleSubmit(e) {\n      e.preventDefault();\n      this.form.validateFields((err, values) => {\n        if (!err) {\n          edit(values).then(response => {\n            console.log(values)\n            this.$message.success(response.message);\n            setTimeout(() => {\n              this.go();\n            }, 100);\n          });\n        }\n      });\n    },\n\n    go() {\n      this.form.resetFields();\n      this.$router.push({\n        name: \"UserList\"\n      });\n    }\n  }\n};\n</script>\n\n\n// WEBPACK FOOTER //\n// src/views/system/users/UserEdit.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a-form',{attrs:{\"form\":_vm.form},on:{\"submit\":_vm.handleSubmit}},[_c('a-form-item',{attrs:{\"label\":\"用户名\",\"label-col\":{ span: 5 },\"wrapper-col\":{ span: 8 }}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['name', { rules: [{ required: true, message: '用户名必须填写' }] }]),expression:\"['name', { rules: [{ required: true, message: '用户名必须填写' }] }]\"}],attrs:{\"placeholder\":\"请输入用户名\"}})],1),_vm._v(\" \"),_c('a-form-item',{staticStyle:{\"height\":\"0px\",\"margin\":\"0\",\"padding\":\"0\"}},[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['id', { rules: [{ required: false }] }]),expression:\"['id', { rules: [{ required: false }] }]\"}],attrs:{\"type\":\"hidden\"}})],1),_vm._v(\" \"),_c('a-form-item',{attrs:{\"label\":\"角色\",\"label-col\":{ span: 5 },\"wrapper-col\":{ span: 8 }}},[_c('a-select',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n        'role_id',\n        { rules: [{ required: true, message: '必须选择角色' }] } ]),expression:\"[\\n        'role_id',\\n        { rules: [{ required: true, message: '必须选择角色' }] },\\n      ]\"}],attrs:{\"placeholder\":\"请选择角色\"}},_vm._l((_vm.roles),function(role){return _c('a-select-option',{key:role.id,attrs:{\"value\":role.id}},[_vm._v(_vm._s(role.name))])}),1)],1),_vm._v(\" \"),_c('a-form-item',{attrs:{\"wrapper-col\":{ span: 12, offset: 5 }}},[_c('a-row',[_c('a-col',{style:({ textAlign: 'left' }),attrs:{\"span\":4}},[_c('a-button',{attrs:{\"type\":\"primary\",\"html-type\":\"submit\"}},[_vm._v(\"提交\")])],1),_vm._v(\" \"),_c('a-col',{style:({ textAlign: 'left' }),attrs:{\"span\":4}},[_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.go}},[_vm._v(\"返回\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3d77666b\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/system/users/UserEdit.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./UserEdit.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./UserEdit.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3d77666b\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./UserEdit.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/system/users/UserEdit.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}